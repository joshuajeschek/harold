/**
 * EVALUATES PERFOMANCE OF LIST VS REGEX FLAG EMOJI VALIDATION
 */

const flagEmojis = [
	':flag_ac:',
	':flag_ad:',
	':flag_ae:',
	':flag_af:',
	':flag_ag:',
	':flag_ai:',
	':flag_al:',
	':flag_am:',
	':flag_ao:',
	':flag_aq:',
	':flag_ar:',
	':flag_as:',
	':flag_at:',
	':flag_au:',
	':flag_aw:',
	':flag_ax:',
	':flag_az:',
	':flag_ba:',
	':flag_bb:',
	':flag_bd:',
	':flag_be:',
	':flag_bf:',
	':flag_bg:',
	':flag_bh:',
	':flag_bj:',
	':flag_bi:',
	':flag_bl:',
	':flag_bm:',
	':flag_bn:',
	':flag_bo:',
	':flag_bq:',
	':flag_br:',
	':flag_bs:',
	':flag_bt:',
	':flag_bv:',
	':flag_bw:',
	':flag_by:',
	':flag_bz:',
	':flag_ca:',
	':flag_cc:',
	':flag_cd:',
	':flag_cf:',
	':flag_cg:',
	':flag_ch:',
	':flag_ci:',
	':flag_ck:',
	':flag_cl:',
	':flag_cm:',
	':flag_cn:',
	':flag_co:',
	':flag_cp:',
	':flag_cr:',
	':flag_cu:',
	':flag_cv:',
	':flag_cw:',
	':flag_cx:',
	':flag_cy:',
	':flag_cz:',
	':flag_de:',
	':flag_dg:',
	':flag_dj:',
	':flag_dk:',
	':flag_dm:',
	':flag_do:',
	':flag_dz:',
	':flag_ea:',
	':flag_ec:',
	':flag_ee:',
	':flag_eg:',
	':flag_eh:',
	':flag_er:',
	':flag_es:',
	':flag_et:',
	':flag_eu:',
	':flag_fj:',
	':flag_fi:',
	':flag_fk:',
	':flag_fm:',
	':flag_fo:',
	':flag_fr:',
	':flag_ga:',
	':flag_gb:',
	':flag_gd:',
	':flag_ge:',
	':flag_gf:',
	':flag_gg:',
	':flag_gh:',
	':flag_gi:',
	':flag_gl:',
	':flag_gm:',
	':flag_gn:',
	':flag_gp:',
	':flag_gq:',
	':flag_gr:',
	':flag_gs:',
	':flag_gt:',
	':flag_gu:',
	':flag_gw:',
	':flag_gy:',
	':flag_hk:',
	':flag_hm:',
	':flag_hn:',
	':flag_hr:',
	':flag_ht:',
	':flag_hu:',
	':flag_je:',
	':flag_jm:',
	':flag_jo:',
	':flag_jp:',
	':flag_ic:',
	':flag_id:',
	':flag_ie:',
	':flag_il:',
	':flag_im:',
	':flag_in:',
	':flag_io:',
	':flag_iq:',
	':flag_ir:',
	':flag_is:',
	':flag_it:',
	':flag_ke:',
	':flag_kg:',
	':flag_kh:',
	':flag_ki:',
	':flag_km:',
	':flag_kn:',
	':flag_kp:',
	':flag_kr:',
	':flag_kw:',
	':flag_ky:',
	':flag_kz:',
	':flag_la:',
	':flag_lb:',
	':flag_lc:',
	':flag_li:',
	':flag_lk:',
	':flag_lr:',
	':flag_ls:',
	':flag_lt:',
	':flag_lu:',
	':flag_lv:',
	':flag_ly:',
	':flag_ma:',
	':flag_mc:',
	':flag_md:',
	':flag_me:',
	':flag_mf:',
	':flag_mg:',
	':flag_mh:',
	':flag_mk:',
	':flag_ml:',
	':flag_mm:',
	':flag_mn:',
	':flag_mo:',
	':flag_mp:',
	':flag_mq:',
	':flag_mr:',
	':flag_ms:',
	':flag_mt:',
	':flag_mu:',
	':flag_mv:',
	':flag_mw:',
	':flag_mx:',
	':flag_my:',
	':flag_mz:',
	':flag_na:',
	':flag_nc:',
	':flag_ne:',
	':flag_nf:',
	':flag_ng:',
	':flag_ni:',
	':flag_nl:',
	':flag_no:',
	':flag_np:',
	':flag_nr:',
	':flag_nu:',
	':flag_nz:',
	':flag_om:',
	':flag_pa:',
	':flag_pe:',
	':flag_pf:',
	':flag_pg:',
	':flag_ph:',
	':flag_pk:',
	':flag_pl:',
	':flag_pm:',
	':flag_pn:',
	':flag_pr:',
	':flag_ps:',
	':flag_pt:',
	':flag_pw:',
	':flag_py:',
	':flag_qa:',
	':flag_re:',
	':flag_ro:',
	':flag_rs:',
	':flag_ru:',
	':flag_rw:',
	':flag_sa:',
	':flag_sb:',
	':flag_sc:',
	':flag_sd:',
	':flag_se:',
	':flag_sg:',
	':flag_sh:',
	':flag_sj:',
	':flag_si:',
	':flag_sk:',
	':flag_sl:',
	':flag_sm:',
	':flag_sn:',
	':flag_so:',
	':flag_sr:',
	':flag_ss:',
	':flag_st:',
	':flag_sv:',
	':flag_sx:',
	':flag_sy:',
	':flag_sz:',
	':flag_ta:',
	':flag_tc:',
	':flag_td:',
	':flag_tf:',
	':flag_tg:',
	':flag_th:',
	':flag_tj:',
	':flag_tk:',
	':flag_tl:',
	':flag_tm:',
	':flag_tn:',
	':flag_to:',
	':flag_tr:',
	':flag_tt:',
	':flag_tv:',
	':flag_tw:',
	':flag_tz:',
	':flag_ua:',
	':flag_ug:',
	':flag_um:',
	':flag_us:',
	':flag_uy:',
	':flag_uz:',
	':flag_va:',
	':flag_vc:',
	':flag_ve:',
	':flag_vg:',
	':flag_vi:',
	':flag_vn:',
	':flag_vu:',
	':flag_wf:',
	':flag_ws:',
	':flag_xk:',
	':flag_ye:',
	':flag_yt:',
	':flag_za:',
	':flag_zm:',
	':flag_zw:'
];

const countries = [
	'ac',
	'ad',
	'ae',
	'af',
	'ag',
	'ai',
	'al',
	'am',
	'ao',
	'aq',
	'ar',
	'as',
	'at',
	'au',
	'aw',
	'ax',
	'az',
	'ba',
	'bb',
	'bd',
	'be',
	'bf',
	'bg',
	'bh',
	'bj',
	'bi',
	'bl',
	'bm',
	'bn',
	'bo',
	'bq',
	'br',
	'bs',
	'bt',
	'bv',
	'bw',
	'by',
	'bz',
	'ca',
	'cc',
	'cd',
	'cf',
	'cg',
	'ch',
	'ci',
	'ck',
	'cl',
	'cm',
	'cn',
	'co',
	'cp',
	'cr',
	'cu',
	'cv',
	'cw',
	'cx',
	'cy',
	'cz',
	'de',
	'dg',
	'dj',
	'dk',
	'dm',
	'do',
	'dz',
	'ea',
	'ec',
	'ee',
	'eg',
	'eh',
	'er',
	'es',
	'et',
	'eu',
	'fj',
	'fi',
	'fk',
	'fm',
	'fo',
	'fr',
	'ga',
	'gb',
	'gd',
	'ge',
	'gf',
	'gg',
	'gh',
	'gi',
	'gl',
	'gm',
	'gn',
	'gp',
	'gq',
	'gr',
	'gs',
	'gt',
	'gu',
	'gw',
	'gy',
	'hk',
	'hm',
	'hn',
	'hr',
	'ht',
	'hu',
	'je',
	'jm',
	'jo',
	'jp',
	'ic',
	'id',
	'ie',
	'il',
	'im',
	'in',
	'io',
	'iq',
	'ir',
	'is',
	'it',
	'ke',
	'kg',
	'kh',
	'ki',
	'km',
	'kn',
	'kp',
	'kr',
	'kw',
	'ky',
	'kz',
	'la',
	'lb',
	'lc',
	'li',
	'lk',
	'lr',
	'ls',
	'lt',
	'lu',
	'lv',
	'ly',
	'ma',
	'mc',
	'md',
	'me',
	'mf',
	'mg',
	'mh',
	'mk',
	'ml',
	'mm',
	'mn',
	'mo',
	'mp',
	'mq',
	'mr',
	'ms',
	'mt',
	'mu',
	'mv',
	'mw',
	'mx',
	'my',
	'mz',
	'na',
	'nc',
	'ne',
	'nf',
	'ng',
	'ni',
	'nl',
	'no',
	'np',
	'nr',
	'nu',
	'nz',
	'om',
	'pa',
	'pe',
	'pf',
	'pg',
	'ph',
	'pk',
	'pl',
	'pm',
	'pn',
	'pr',
	'ps',
	'pt',
	'pw',
	'py',
	'qa',
	're',
	'ro',
	'rs',
	'ru',
	'rw',
	'sa',
	'sb',
	'sc',
	'sd',
	'se',
	'sg',
	'sh',
	'sj',
	'si',
	'sk',
	'sl',
	'sm',
	'sn',
	'so',
	'sr',
	'ss',
	'st',
	'sv',
	'sx',
	'sy',
	'sz',
	'ta',
	'tc',
	'td',
	'tf',
	'tg',
	'th',
	'tj',
	'tk',
	'tl',
	'tm',
	'tn',
	'to',
	'tr',
	'tt',
	'tv',
	'tw',
	'tz',
	'ua',
	'ug',
	'um',
	'us',
	'uy',
	'uz',
	'va',
	'vc',
	've',
	'vg',
	'vi',
	'vn',
	'vu',
	'wf',
	'ws',
	'xk',
	'ye',
	'yt',
	'za',
	'zm',
	'zw'
];

const flagEmojiRegex = `:flag_(${countries.join('|')}):`;

const alphabet = ['a','b','c','d','e','f','g','h','j','i','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];

const listTimes = [];
const regexTimes = [];

alphabet.forEach(first => {
    alphabet.forEach(second => {
        const emoji = `:flag_${first}${second}:`
        const startList = performance.now();
        const isEmoji_l = flagEmojis.includes(emoji);
        const endList = performance.now();
        listTimes.push(endList - startList);

        const startRegex = performance.now();
        const isEmoji_r = emoji.match(flagEmojiRegex);
        const endRegex = performance.now();
        regexTimes.push(endRegex - startRegex);

        // console.log(emoji, isEmoji_l, isEmoji_r);
    });
});

console.log('overall list:', listTimes.reduce((a, b) => a + b, 0) / listTimes.length);
console.log('overall regex:', regexTimes.reduce((a, b) => a + b, 0) / regexTimes.length);


const trueListTimes = [];
const trueRegexTimes = [];

countries.forEach(c => {
    const emoji = `:flag_${c}:`
    const startList = performance.now();
    flagEmojis.includes(emoji);
    const endList = performance.now();
    trueListTimes.push(endList - startList);

    const startRegex = performance.now();
    emoji.match(flagEmojiRegex);
    const endRegex = performance.now();
    trueRegexTimes.push(endRegex - startRegex);
});


console.log('true list:', trueListTimes.reduce((a, b) => a + b, 0) / trueListTimes.length);
console.log('true regex:', trueRegexTimes.reduce((a, b) => a + b, 0) / trueRegexTimes.length);


const falseListTimes = [];
const falseRegexTimes = [];

alphabet.forEach(first => {
    alphabet.forEach(second => {
        if (countries.includes(`${first}${second}`))
            return;
        const emoji = `:flag_${first}${second}:`
        const startList = performance.now();
        flagEmojis.includes(emoji);
        const endList = performance.now();
        falseListTimes.push(endList - startList);

        const startRegex = performance.now();
        emoji.match(flagEmojiRegex);
        const endRegex = performance.now();
        falseRegexTimes.push(endRegex - startRegex);

    });
});

console.log('false list:', falseListTimes.reduce((a, b) => a + b, 0) / falseListTimes.length);
console.log('false regex:', falseRegexTimes.reduce((a, b) => a + b, 0) / falseRegexTimes.length);
